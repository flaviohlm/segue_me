<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="equipes_integrantes" language="groovy" pageWidth="802" pageHeight="555" orientation="Landscape" columnWidth="802" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" whenResourceMissingType="Empty" uuid="97a86976-de63-40c8-8075-ae253e39f851">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="ENCONTRO_EQUIPE_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     participante.nome AS participante_nome,
     participante.apelido AS participante_apelido,
     participante.email AS participante_email,
     participante.sexo AS participante_sexo,
     participante.data_nascimento AS participante_data_nascimento,
     participante.endereco AS participante_endereco,
     participante.bairro AS participante_bairro,
     participante.telefone_residencial AS participante_telefone_residencial,
     participante.telefone_celular AS participante_telefone_celular,
     CASE WHEN encontro_equipe_integrantes.coordenador = true THEN 'COORDENADOR(A)' ELSE 'SEGUIDOR(A)' END AS coordenador,
     CASE WHEN seguidor.tio = true THEN 'TIO(A)' ELSE 'SEGUIDOR(A)' END AS tipo
FROM
     segueme.seguidor seguidor
INNER JOIN segueme.encontro_equipe_integrantes encontro_equipe_integrantes ON seguidor.id = encontro_equipe_integrantes.seguidor_id
INNER JOIN segueme.participante participante ON seguidor.participante_id = participante.id
WHERE encontro_equipe_integrantes.encontro_equipe_id = $P{ENCONTRO_EQUIPE_ID}
AND  (encontro_equipe_integrantes.coordenador is null OR encontro_equipe_integrantes.coordenador = false)
AND encontro_equipe_integrantes.convite_aceito = true
ORDER BY coordenador, tipo DESC, participante.nome]]>
	</queryString>
	<field name="participante_nome" class="java.lang.String"/>
	<field name="participante_apelido" class="java.lang.String"/>
	<field name="participante_email" class="java.lang.String"/>
	<field name="participante_sexo" class="java.lang.String"/>
	<field name="participante_data_nascimento" class="java.sql.Date"/>
	<field name="participante_endereco" class="java.lang.String"/>
	<field name="participante_bairro" class="java.lang.String"/>
	<field name="participante_telefone_residencial" class="java.lang.String"/>
	<field name="participante_telefone_celular" class="java.lang.String"/>
	<field name="coordenador" class="java.lang.String"/>
	<field name="tipo" class="java.lang.String"/>
	<detail>
		<band height="20" splitType="Stretch">
			<rectangle>
				<reportElement x="501" y="0" width="207" height="20" uuid="863bb0f1-d1a4-4b97-9d4a-d62cd02bf811"/>
			</rectangle>
			<rectangle>
				<reportElement x="0" y="0" width="214" height="20" uuid="f8728df6-7e26-49e8-acc5-1aa35f0106fc"/>
			</rectangle>
			<rectangle>
				<reportElement x="214" y="0" width="109" height="20" uuid="4fe25c80-f167-4fbd-9316-53ceb647cff9"/>
			</rectangle>
			<rectangle>
				<reportElement x="708" y="0" width="94" height="20" uuid="4955fc85-1c6a-4429-8124-dbc331680012"/>
			</rectangle>
			<textField isBlankWhenNull="true">
				<reportElement x="501" y="0" width="207" height="20" uuid="d657c5e8-fc04-4b1b-8b5b-a839996dd51b"/>
				<textElement verticalAlignment="Middle">
					<font isBold="false"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_endereco}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="214" height="20" uuid="234710ae-5391-4b43-8b3a-06662dded67d"/>
				<textElement verticalAlignment="Middle">
					<font isBold="false"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_nome}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="214" y="0" width="109" height="20" uuid="b8acb0aa-c093-4e86-a993-8b400fa64df8"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_telefone_celular}]]></textFieldExpression>
			</textField>
			<rectangle>
				<reportElement x="323" y="0" width="178" height="20" uuid="65bf8951-f894-4a6f-9503-7881ee50bbfe"/>
			</rectangle>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="708" y="0" width="94" height="20" uuid="d4f93a61-c23f-4dd4-a0cd-8dad4cdab779"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_data_nascimento}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="323" y="0" width="178" height="20" uuid="9b250060-628b-48e6-ac9a-7011e1377821"/>
				<textElement verticalAlignment="Middle" markup="styled">
					<font isBold="false"/>
					<paragraph lineSpacing="Single" leftIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_email}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
