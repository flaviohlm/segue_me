<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="equipes_integrantes" language="groovy" pageWidth="555" pageHeight="802" columnWidth="555" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="97a86976-de63-40c8-8075-ae253e39f851">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="ENCONTRO_EQUIPE_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     participante.nome AS participante_nome,
     participante.apelido AS participante_apelido,
     participante.email AS participante_email,
     participante.sexo AS participante_sexo,
     participante.data_nascimento AS participante_data_nascimento,
     participante.endereco AS participante_endereco,
     participante.bairro AS participante_bairro,
     participante.telefone_residencial AS participante_telefone_residencial,
     participante.telefone_celular AS participante_telefone_celular,
     CASE WHEN encontro_equipe_integrantes.coordenador = true THEN 'COORDENADOR(A)' ELSE 'SEGUIDOR(A)' END AS coordenador,
     CASE WHEN seguidor.tio = true THEN 'TIO(A)' ELSE 'SEGUIDOR(A)' END AS tipo
FROM
     segueme.seguidor seguidor
INNER JOIN segueme.encontro_equipe_integrantes encontro_equipe_integrantes ON seguidor.id = encontro_equipe_integrantes.seguidor_id
INNER JOIN segueme.participante participante ON seguidor.participante_id = participante.id
WHERE encontro_equipe_integrantes.encontro_equipe_id = $P{ENCONTRO_EQUIPE_ID}
AND  encontro_equipe_integrantes.coordenador = true
ORDER BY coordenador, tipo DESC, participante.nome]]>
	</queryString>
	<field name="participante_nome" class="java.lang.String"/>
	<field name="participante_apelido" class="java.lang.String"/>
	<field name="participante_email" class="java.lang.String"/>
	<field name="participante_sexo" class="java.lang.String"/>
	<field name="participante_data_nascimento" class="java.sql.Date"/>
	<field name="participante_endereco" class="java.lang.String"/>
	<field name="participante_bairro" class="java.lang.String"/>
	<field name="participante_telefone_residencial" class="java.lang.String"/>
	<field name="participante_telefone_celular" class="java.lang.String"/>
	<field name="coordenador" class="java.lang.String"/>
	<field name="tipo" class="java.lang.String"/>
	<detail>
		<band height="21" splitType="Stretch">
			<textField>
				<reportElement x="10" y="0" width="235" height="20" uuid="82f86aa6-b0e0-4e69-9ced-c8cae94608c0"/>
				<textElement verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_nome}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="245" y="0" width="112" height="20" uuid="e4402365-9a37-4ee8-b2f0-8ecc6a4e0254"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_telefone_celular}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="20" width="555" height="1" uuid="b3e296f4-d34f-4875-8b94-8a0e4b6ecb2b"/>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="368" y="1" width="187" height="20" uuid="4d6a1a60-eeed-4a31-b31a-e9a8a07cb4df"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{participante_endereco}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
